From 54bee53d7b10f6d13d275457d26b74aae7e4e095 Mon Sep 17 00:00:00 2001
From: Luca Weiss <luca@z3ntu.xyz>
Date: Sat, 17 Apr 2021 12:55:49 +0200
Subject: [PATCH 1/6] Link properly to hunspell

The pkg-config file describes how to link to hunspell, so use it.
New hunspell provides e.g. libhunspell-1.7.so
---
 plugins/ar/src/src.pro       | 3 ++-
 plugins/az/src/src.pro       | 3 ++-
 plugins/be/src/src.pro       | 3 ++-
 plugins/bg/src/src.pro       | 3 ++-
 plugins/bs/src/src.pro       | 3 ++-
 plugins/ca/src/src.pro       | 3 ++-
 plugins/cs/src/src.pro       | 3 ++-
 plugins/da/src/src.pro       | 3 ++-
 plugins/de/src/src.pro       | 3 ++-
 plugins/el/src/src.pro       | 3 ++-
 plugins/en/src/src.pro       | 3 ++-
 plugins/en@dv/src/src.pro    | 3 ++-
 plugins/eo/src/src.pro       | 3 ++-
 plugins/es/src/src.pro       | 3 ++-
 plugins/fa/src/src.pro       | 3 ++-
 plugins/fi/src/src.pro       | 3 ++-
 plugins/fr-ch/src/src.pro    | 3 ++-
 plugins/fr/src/src.pro       | 3 ++-
 plugins/gd/src/src.pro       | 3 ++-
 plugins/he/src/src.pro       | 3 ++-
 plugins/hr/src/src.pro       | 3 ++-
 plugins/hu/src/src.pro       | 3 ++-
 plugins/is/src/src.pro       | 3 ++-
 plugins/it/src/src.pro       | 3 ++-
 plugins/ko/src/src.pro       | 1 -
 plugins/lt/src/src.pro       | 3 ++-
 plugins/lv/src/src.pro       | 3 ++-
 plugins/mk/src/src.pro       | 3 ++-
 plugins/nb/src/src.pro       | 3 ++-
 plugins/nl/src/src.pro       | 3 ++-
 plugins/pl/src/src.pro       | 3 ++-
 plugins/pt/src/src.pro       | 3 ++-
 plugins/ro/src/src.pro       | 3 ++-
 plugins/ru/src/src.pro       | 3 ++-
 plugins/sl/src/src.pro       | 3 ++-
 plugins/sr/src/src.pro       | 3 ++-
 plugins/sv/src/src.pro       | 3 ++-
 plugins/tr/src/src.pro       | 3 ++-
 plugins/uk/src/src.pro       | 3 ++-
 tests/testlayout/src/src.pro | 3 ++-
 40 files changed, 78 insertions(+), 40 deletions(-)

diff --git a/plugins/ar/src/src.pro b/plugins/ar/src/src.pro
index 7f6e7af8..fa337dcd 100644
--- a/plugins/ar/src/src.pro
+++ b/plugins/ar/src/src.pro
@@ -40,7 +40,8 @@ OTHER_FILES += \
     arabicplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/az/src/src.pro b/plugins/az/src/src.pro
index d406fadd..d77b1030 100644
--- a/plugins/az/src/src.pro
+++ b/plugins/az/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     free_ebook.txt \
     azerbaijaniplugin.json
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/be/src/src.pro b/plugins/be/src/src.pro
index 0fc53152..2bd1d442 100644
--- a/plugins/be/src/src.pro
+++ b/plugins/be/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     belarusianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/bg/src/src.pro b/plugins/bg/src/src.pro
index 3b2c0bd5..6da2fb35 100644
--- a/plugins/bg/src/src.pro
+++ b/plugins/bg/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     bulgarianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/bs/src/src.pro b/plugins/bs/src/src.pro
index 6ddfd52b..27b9e57d 100644
--- a/plugins/bs/src/src.pro
+++ b/plugins/bs/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     bosnianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/ca/src/src.pro b/plugins/ca/src/src.pro
index bddfe25a..4a165447 100644
--- a/plugins/ca/src/src.pro
+++ b/plugins/ca/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     catalanplugin.json \
     paulina_buxareu.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/cs/src/src.pro b/plugins/cs/src/src.pro
index d1d9f1de..8aba5611 100644
--- a/plugins/cs/src/src.pro
+++ b/plugins/cs/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     czechplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/da/src/src.pro b/plugins/da/src/src.pro
index 40e716f9..bda5c170 100644
--- a/plugins/da/src/src.pro
+++ b/plugins/da/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     danishplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/de/src/src.pro b/plugins/de/src/src.pro
index 78f1e535..e910c1fa 100644
--- a/plugins/de/src/src.pro
+++ b/plugins/de/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     germanplugin.json \
     buddenbrooks.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/el/src/src.pro b/plugins/el/src/src.pro
index 812c3929..20bd57ab 100644
--- a/plugins/el/src/src.pro
+++ b/plugins/el/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     greekplugin.json \
     grazia_deledda-christos_alexandridis.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/en/src/src.pro b/plugins/en/src/src.pro
index 62e9ffb1..b041d93b 100644
--- a/plugins/en/src/src.pro
+++ b/plugins/en/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     englishplugin.json \
     the_picture_of_dorian_gray.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/en@dv/src/src.pro b/plugins/en@dv/src/src.pro
index da95193b..d8f25342 100644
--- a/plugins/en@dv/src/src.pro
+++ b/plugins/en@dv/src/src.pro
@@ -28,7 +28,8 @@ INSTALLS += target
 OTHER_FILES += \
     englishdvorakplugin.json \
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/eo/src/src.pro b/plugins/eo/src/src.pro
index 18f34291..ec817e0d 100644
--- a/plugins/eo/src/src.pro
+++ b/plugins/eo/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     esperantoplugin.json \
     alicio_en_mirlando.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/es/src/src.pro b/plugins/es/src/src.pro
index c7ee3790..73c6d944 100644
--- a/plugins/es/src/src.pro
+++ b/plugins/es/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     spanishplugin.json \
     el_quijote.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/fa/src/src.pro b/plugins/fa/src/src.pro
index 693c6c16..ff956fe0 100644
--- a/plugins/fa/src/src.pro
+++ b/plugins/fa/src/src.pro
@@ -40,7 +40,8 @@ OTHER_FILES += \
     persianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/fi/src/src.pro b/plugins/fi/src/src.pro
index dba06f93..f84aaca0 100644
--- a/plugins/fi/src/src.pro
+++ b/plugins/fi/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     finnishplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/fr-ch/src/src.pro b/plugins/fr-ch/src/src.pro
index 9f559fc8..c10bf269 100644
--- a/plugins/fr-ch/src/src.pro
+++ b/plugins/fr-ch/src/src.pro
@@ -28,7 +28,8 @@ INSTALLS += target
 OTHER_FILES += \
     frenchplugin.json \
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/fr/src/src.pro b/plugins/fr/src/src.pro
index ecf47b71..18a5bc22 100644
--- a/plugins/fr/src/src.pro
+++ b/plugins/fr/src/src.pro
@@ -45,7 +45,8 @@ OTHER_FILES += \
     frenchplugin.json \
     les_trois_mousquetaires.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/gd/src/src.pro b/plugins/gd/src/src.pro
index 0796f0d8..e06208fa 100644
--- a/plugins/gd/src/src.pro
+++ b/plugins/gd/src/src.pro
@@ -42,7 +42,8 @@ OTHER_FILES += \
     gaelicplugin.json \
     teacsa.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/he/src/src.pro b/plugins/he/src/src.pro
index d24a7c57..c9422a40 100644
--- a/plugins/he/src/src.pro
+++ b/plugins/he/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     hebrewplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/hr/src/src.pro b/plugins/hr/src/src.pro
index e91332d5..ce42e0dd 100644
--- a/plugins/hr/src/src.pro
+++ b/plugins/hr/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     croatianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/hu/src/src.pro b/plugins/hu/src/src.pro
index 68cdba4a..0f6ec1c1 100644
--- a/plugins/hu/src/src.pro
+++ b/plugins/hu/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     hungarianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/is/src/src.pro b/plugins/is/src/src.pro
index f7044812..fbfa60ef 100644
--- a/plugins/is/src/src.pro
+++ b/plugins/is/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     icelandicplugin.json \
     althingi_umraedur_2004_2005.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/it/src/src.pro b/plugins/it/src/src.pro
index 50233f5b..42c2054b 100644
--- a/plugins/it/src/src.pro
+++ b/plugins/it/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     italianplugin.json \
     la_francia_dal_primo_impero.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/ko/src/src.pro b/plugins/ko/src/src.pro
index 77adddbf..10575882 100644
--- a/plugins/ko/src/src.pro
+++ b/plugins/ko/src/src.pro
@@ -58,7 +58,6 @@ OTHER_FILES += \
 # hunspell
 CONFIG += link_pkgconfig
 PKGCONFIG += hunspell
-LIBS += -lhunspell
 DEFINES += HAVE_HUNSPELL
 
 # presage
diff --git a/plugins/lt/src/src.pro b/plugins/lt/src/src.pro
index 99934315..77a71242 100644
--- a/plugins/lt/src/src.pro
+++ b/plugins/lt/src/src.pro
@@ -40,7 +40,8 @@ OTHER_FILES += \
     lithuanianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/lv/src/src.pro b/plugins/lv/src/src.pro
index 057e6c04..d629a5c3 100644
--- a/plugins/lv/src/src.pro
+++ b/plugins/lv/src/src.pro
@@ -40,7 +40,8 @@ OTHER_FILES += \
     latvianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/mk/src/src.pro b/plugins/mk/src/src.pro
index b6cf5bd4..3d502f66 100644
--- a/plugins/mk/src/src.pro
+++ b/plugins/mk/src/src.pro
@@ -25,7 +25,8 @@ PLUGIN_INSTALL_PATH = $${LOMIRI_KEYBOARD_PLUGIN_DIR}/mk/
 OTHER_FILES += \
     macedonianplugin.json \
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/nb/src/src.pro b/plugins/nb/src/src.pro
index 0e4d7cce..380395ac 100644
--- a/plugins/nb/src/src.pro
+++ b/plugins/nb/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     norwegianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/nl/src/src.pro b/plugins/nl/src/src.pro
index 6370b251..ef3b3e98 100644
--- a/plugins/nl/src/src.pro
+++ b/plugins/nl/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     dutchplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/pl/src/src.pro b/plugins/pl/src/src.pro
index aebd9119..76fb9d54 100644
--- a/plugins/pl/src/src.pro
+++ b/plugins/pl/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     polishplugin.json \
     ziemia_obiecana_tom_pierwszy_4.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/pt/src/src.pro b/plugins/pt/src/src.pro
index 47b82d40..b8474cc6 100644
--- a/plugins/pt/src/src.pro
+++ b/plugins/pt/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     portugueseplugin.json \
     historias_sem_data.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/ro/src/src.pro b/plugins/ro/src/src.pro
index 6678d652..6433fec5 100644
--- a/plugins/ro/src/src.pro
+++ b/plugins/ro/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     romanianplugin.json \
     amintiri_din_copilarie.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/ru/src/src.pro b/plugins/ru/src/src.pro
index f56307b6..5027d4ba 100644
--- a/plugins/ru/src/src.pro
+++ b/plugins/ru/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     russianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/sl/src/src.pro b/plugins/sl/src/src.pro
index 0cc03ec1..04997c8f 100644
--- a/plugins/sl/src/src.pro
+++ b/plugins/sl/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     slovenianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/sr/src/src.pro b/plugins/sr/src/src.pro
index a00ce1f2..82654caf 100644
--- a/plugins/sr/src/src.pro
+++ b/plugins/sr/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     serbianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/sv/src/src.pro b/plugins/sv/src/src.pro
index 390dc85d..170bb10f 100644
--- a/plugins/sv/src/src.pro
+++ b/plugins/sv/src/src.pro
@@ -44,7 +44,8 @@ OTHER_FILES += \
     swedishplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/tr/src/src.pro b/plugins/tr/src/src.pro
index 66764b08..48137df6 100644
--- a/plugins/tr/src/src.pro
+++ b/plugins/tr/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     free_ebook.txt \
     turkishplugin.json
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/plugins/uk/src/src.pro b/plugins/uk/src/src.pro
index b06e19bb..396e8f96 100644
--- a/plugins/uk/src/src.pro
+++ b/plugins/uk/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     ukrainianplugin.json \
     free_ebook.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $$PWD/../../westernsupport
 DEPENDPATH += $$PWD/../../westernsupport
diff --git a/tests/testlayout/src/src.pro b/tests/testlayout/src/src.pro
index 83793534..5e515775 100644
--- a/tests/testlayout/src/src.pro
+++ b/tests/testlayout/src/src.pro
@@ -41,7 +41,8 @@ OTHER_FILES += \
     testlayoutplugin.json \
     the_picture_of_dorian_gray.txt
 
-LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage -lhunspell
+PKGCONFIG += hunspell
+LIBS += $${TOP_BUILDDIR}/plugins/plugins/libwesternsupport.a -lpresage
 
 INCLUDEPATH += $${TOP_SRCDIR}/plugins/westernsupport
 DEPENDPATH += $${TOP_SRCDIR}/plugins/westernsupport
-- 
2.32.0

